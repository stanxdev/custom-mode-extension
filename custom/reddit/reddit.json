{
    "description": [
        "1181   www.reddit.com/r/   =>  ${env.REDLIB}/r/",
        "       - exception: ! at the end",
        "       - https://github.com/redlib-org/redlib-instances/blob/main/instances.md",
        "       - https://farside.link/libreddit",
        "1182   (reddit|redlib|rl)/r/",
        "       - cookies for settings",
        "       - https://github.com/redlib-org/redlib?tab=readme-ov-file#default-user-settings",
        "           theme       black, dark, doomone, dracula, gold, gruvboxdark, gruvboxlight,",
        "                       icebergDark, laserwave, libredditBlack, libredditDark, libredditLightlight,",
        "                       light, midnightPurple, nord, rosebox, tokyoNight, violet",
        "           hide_score  on, off",
        "           ..."
    ],
    "request_rules": [
        {
            "id": 1181,
            "priority": 1,
            "action": {
                "type": "redirect",
                "redirect": {
                    "regexSubstitution": "${env.REDLIB_URL}/r/\\1"
                }
            },
            "condition": {
                "regexFilter": "^https://www\\.reddit\\.com/r/(.*)[^!]$",
                "resourceTypes": [
                    "main_frame"
                ]
            }
        },
        {
            "id": 1182,
            "priority": 1,
            "action": {
                "type": "modifyHeaders",
                "requestHeaders": [
                    {
                        "header": "cookie",
                        "operation": "append",
                        "value": "theme=${env.REDLIB_THEME};hide_score=off;fixed_navbar=off"
                    }
                ]
            },
            "condition": {
                "regexFilter": "^https://.*?(red|rl|lr).*?/r/.*[^!]$",
                "resourceTypes": [
                    "main_frame"
                ]
            }
        }
    ]
}
